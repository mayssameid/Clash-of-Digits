===============================================
DEPLOYMENT GUIDE - Math Duel Arena
CSC443 Phase 2 Full Stack Project
===============================================

WHAT I CHANGED FOR DEPLOYMENT:

1. Modified server.js database configuration to use environment variables
   - Changed hardcoded database credentials (localhost, root, password) to process.env variables
   - This makes the app secure and flexible for both local and production environments
   - Added fallback values so it still works locally

2. Created .gitignore file
   - Prevents sensitive files like node_modules and .env from being uploaded to GitHub
   - Essential for security and keeping repository clean

3. Created Procfile
   - Tells Heroku how to start the application (web: node server.js)
   - Required for Heroku deployment

4. Updated package.json
   - Added "engines" field to specify Node.js version compatibility
   - Ensures deployment platforms use the correct Node version

All other code remains the same - these changes just make deployment possible!

===============================================
HOW TO DEPLOY TO RAILWAY (EASIEST METHOD)
===============================================

Railway is free and has built-in MySQL support. Here's how to deploy:

STEP 1: Push Your Code to GitHub
---------------------------------
1. Open terminal in your project folder
2. Run these commands:
   git init
   git add .
   git commit -m "Ready for deployment"
   
3. Create a new repository on GitHub (github.com)
4. Connect and push:
   git remote add origin https://github.com/YOUR_USERNAME/YOUR_REPO_NAME.git
   git push -u origin main

STEP 2: Deploy on Railway
---------------------------------
1. Go to https://railway.app/
2. Click "Start a New Project"
3. Sign in with your GitHub account
4. Select "Deploy from GitHub repo"
5. Choose your repository
6. Railway will automatically detect it's a Node.js app and deploy it

STEP 3: Add MySQL Database
---------------------------------
1. In your Railway project dashboard, click "+ New" button
2. Select "Database" → "Add MySQL"
3. Railway creates a MySQL database instantly
4. Click on the MySQL database to see connection details

STEP 4: Connect App to Database
---------------------------------
1. Click on your web service (the Node.js app)
2. Go to "Variables" tab
3. Add these environment variables (copy values from MySQL service):
   
   DB_HOST = (copy MYSQLHOST from MySQL service)
   DB_USER = (copy MYSQLUSER from MySQL service)
   DB_PASSWORD = (copy MYSQLPASSWORD from MySQL service)
   DB_NAME = (copy MYSQLDATABASE from MySQL service)
   DB_CONNECTION_LIMIT = 10
   NODE_ENV = production

4. Click "Add" for each variable

STEP 5: Set Up Database Tables
---------------------------------
1. Click on MySQL service in Railway
2. Go to "Data" tab or "Query" tab
3. Copy all the SQL code from your database_setup.sql file
4. Paste it in the query editor
5. Click "Run Query" or "Execute"
6. Your tables (users, game_sessions, scores, feedback, leaderboard view) are now created!

STEP 6: Get Your Live URL
---------------------------------
1. Click on your web service (Node.js app)
2. Go to "Settings" tab
3. Click "Generate Domain"
4. Railway gives you a URL like: https://your-app-name.up.railway.app
5. Your app is now live!

===============================================
HOW TO TEST YOUR DEPLOYED APP
===============================================

After deployment, test everything:

1. HOMEPAGE TEST:
   - Visit your Railway URL
   - Check if home.html loads properly
   - Check if navigation works
   - Check if images and CSS load

2. USER REGISTRATION TEST:
   - Go to player.html
   - Enter a username and email
   - Click start - should create user in database

3. GAME TEST:
   - Play a single-player game
   - Answer some questions
   - Check if score saves at the end

4. LEADERBOARD TEST:
   - Go to leaderboard.html
   - Check if your score appears
   - Try searching for your username

5. FEEDBACK TEST:
   - Go to feedback.html
   - Submit feedback
   - Check if it saves successfully

6. DATABASE CHECK:
   - Go to Railway → MySQL service → Data tab
   - Check tables: users, scores, feedback
   - Verify your test data is there

7. CHECK FOR ERRORS:
   - Open browser console (F12)
   - Look for any red error messages
   - Check Railway logs if something doesn't work

===============================================
ALTERNATIVE: DEPLOY TO RENDER
===============================================

If Railway doesn't work, try Render:

1. Go to https://render.com/
2. Sign up with GitHub
3. Click "New +" → "Web Service"
4. Connect your GitHub repository
5. Settings:
   - Environment: Node
   - Build Command: npm install
   - Start Command: node server.js
6. Add environment variables (same as Railway)
7. For database, use Railway's MySQL or PlanetScale (free)

===============================================
ALTERNATIVE: DEPLOY TO HEROKU
===============================================

Note: Heroku requires a credit card (minimum $5/month)

1. Install Heroku CLI: https://devcenter.heroku.com/articles/heroku-cli
2. Run in terminal:
   heroku login
   heroku create your-app-name
   heroku addons:create cleardb:ignite
   git push heroku main
3. Set environment variables:
   heroku config:set DB_HOST=your-host
   heroku config:set DB_USER=your-user
   (etc...)

===============================================
TROUBLESHOOTING
===============================================

Problem: App won't start on Railway
Solution: Check logs in Railway dashboard. Usually it's a missing environment variable.

Problem: Database connection error
Solution: Double-check all DB_ environment variables match your MySQL credentials exactly.

Problem: Pages load but features don't work
Solution: Check browser console for errors. Might be a CORS issue or API endpoint problem.

Problem: Can't see my data
Solution: Make sure you ran database_setup.sql in Railway's MySQL query tab.

Problem: App works locally but not on Railway
Solution: Make sure you pushed all changes to GitHub. Railway deploys from GitHub.

===============================================
WHAT TO SUBMIT FOR CSC443 PROJECT
===============================================

For your project submission, include:

1. ✓ Live deployment URL (e.g., https://your-app.railway.app)
2. ✓ GitHub repository URL
3. ✓ Screenshots showing the app running (homepage, game, leaderboard, feedback)
4. ✓ This deployment guide
5. ✓ READMEE.txt with all documentation

The deployment URL proves your full-stack app works end-to-end!

===============================================
SUMMARY OF FILES CHANGED
===============================================

Modified Files:
- server.js (added environment variables for database)
- package.json (added engines field)

New Files:
- .gitignore (prevents uploading node_modules)
- Procfile (for Heroku deployment)
- DEPLOYMENT_GUIDE.txt (this file)

No other code was changed - the app works exactly the same!

===============================================
